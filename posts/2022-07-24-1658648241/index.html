<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Litecoin (LTC) - MimbleWimble transactions using Regtest network | Wilderness Downtown</title>
<link rel=canonical href=https://julianyap.com/posts/2022-07-24-1658648241/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:url" content="https://julianyap.com/posts/2022-07-24-1658648241/"><meta property="og:site_name" content="Wilderness Downtown"><meta property="og:title" content="Litecoin (LTC) - MimbleWimble transactions using Regtest network"><meta property="og:description" content="Introduction Litecoin has implemented MimbleWimble using an Extension Blocks sidechain, commonly referred to as “MWEB”. I couldn’t find any references to using MWEB other than articles which delve more into the technology but not the day to day wallet interaction. This post utilizes the standalone private Regtest network to demonstrate the usage. There are Additional links and references at the bottom of this post if you need an overview of the technology."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-24T00:37:22-07:00"><meta property="article:modified_time" content="2022-07-24T00:37:22-07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Litecoin (LTC) - MimbleWimble transactions using Regtest network"><meta name=twitter:description content="Introduction Litecoin has implemented MimbleWimble using an Extension Blocks sidechain, commonly referred to as “MWEB”. I couldn’t find any references to using MWEB other than articles which delve more into the technology but not the day to day wallet interaction. This post utilizes the standalone private Regtest network to demonstrate the usage. There are Additional links and references at the bottom of this post if you need an overview of the technology."><link rel=stylesheet href=https://julianyap.com/css/styles.3293cde0ba45207bc30ea388dcd0b13853ce2a765f7062b3b64049d144d97ff3ebebfe523de731ae740d355ea236be1fb55794d29a7f84012e98e293c9da881c.css integrity="sha512-MpPN4LpFIHvDDqOI3NCxOFPOKnZfcGKztkBJ0UTZf/Pr6/5SPecxrnQNNV6iNr4ftVeU0pp/hAEumOKTydqIHA=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://julianyap.com/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/posts>Posts</a></li><li><a href=/pages>Pages</a></li><li><a href=/about>About</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://julianyap.com/about/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=https://julianyap.com/posts/2024-03-13-1710365831/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&text=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&title=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&is_video=false&description=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network&body=Check out this article: https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&title=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&title=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&name=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network&description=%3ch2%20id%3d%22introduction%22%3eIntroduction%3c%2fh2%3e%0a%3cp%3eLitecoin%20has%20implemented%20MimbleWimble%20using%20an%20Extension%20Blocks%20sidechain%2c%20commonly%20referred%20to%20as%20%26ldquo%3bMWEB%26rdquo%3b.%20I%20couldn%26rsquo%3bt%20find%20any%20references%20to%20using%20MWEB%20other%20than%20articles%20which%20delve%20more%20into%20the%20technology%20but%20not%20the%20day%20to%20day%20wallet%20interaction.%20This%20post%20utilizes%20the%20standalone%20private%20Regtest%20network%20to%20demonstrate%20the%20usage.%20There%20are%20Additional%20links%20and%20references%20at%20the%20bottom%20of%20this%20post%20if%20you%20need%20an%20overview%20of%20the%20technology.%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&t=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Litecoin (LTC) - MimbleWimble transactions using Regtest network</h1><div class=meta><div class=postdate><time datetime="2022-07-24 00:37:22 -0700 -0700" itemprop=datePublished>2022-07-24</time></div></div></header><div id=toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#build>Build</a></li><li><a href=#clean-up-any-previous-regtest-network>Clean up any previous Regtest network</a></li><li><a href=#start-daemon-in-regtest-mode>Start daemon in Regtest mode</a></li><li><a href=#create-wallet-and-address>Create wallet and address</a></li><li><a href=#create-an-mweb-address>Create an MWEB address</a></li><li><a href=#peg-in-transaction>Peg In transaction</a></li><li><a href=#peg-out-transaction>Peg Out transaction</a></li><li><a href=#stop-the-daemon>Stop the daemon</a></li><li><a href=#additional-links-and-references>Additional links and references</a></li></ul></nav></div><div class=content itemprop=articleBody><h2 id=introduction>Introduction</h2><p>Litecoin has implemented MimbleWimble using an Extension Blocks sidechain, commonly referred to as &ldquo;MWEB&rdquo;. I couldn&rsquo;t find any references to using MWEB other than articles which delve more into the technology but not the day to day wallet interaction. This post utilizes the standalone private Regtest network to demonstrate the usage. There are Additional links and references at the bottom of this post if you need an overview of the technology.</p><p>Definitions:</p><ul><li>Peg In = Sending funds from Main chain > MWEB chain</li><li>Peg Out = Sending funds from MWEB > Main chain</li></ul><p>This will run through the Regtest network set up and demonstration of Peg In and Peg Out transactions.</p><p>Assumes Ubuntu LTS is the operating system.</p><h2 id=build>Build</h2><p>Install dependencies</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ sudo apt-get install build-essential libtool autotools-dev automake pkg-config bsdmainutils python3
</span></span><span style=display:flex><span>$ sudo apt-get install libevent-dev libboost-system-dev libboost-filesystem-dev libboost-test-dev libboost-thread-dev libfmt-dev libdb++dev libssl-dev
</span></span></code></pre></div><p>Clone and build. We disable the GUI, running tests and benchmarks to reduce build time.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ git clone https://github.com/litecoin-project/litecoin.git
</span></span><span style=display:flex><span>$ <span style=color:#04a5e5>cd</span> litecoin/
</span></span><span style=display:flex><span>$ ./autogen.sh
</span></span><span style=display:flex><span>$ ./configure --without-gui --disable-tests --disable-bench --with-incompatible-bdb
</span></span><span style=display:flex><span>$ make 
</span></span></code></pre></div><p>Set RPCUSER and RPCPASSWORD</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ mkdir ~/.litecoin
</span></span><span style=display:flex><span>$ vi ~/.litecoin/litecoin.conf
</span></span></code></pre></div><p>Write the following to ~/.litecoin/litecoin.conf</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>rpcallowip=0.0.0.0/0
</span></span><span style=display:flex><span>rpcuser=user
</span></span><span style=display:flex><span>rpcpassword=password
</span></span></code></pre></div><h2 id=clean-up-any-previous-regtest-network>Clean up any previous Regtest network</h2><p>Delete previously created Regtest network and wallets (wallets don&rsquo;t persist on restart unless you set a parameter on wallet creation)</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ rm -fr ~/.litecoin/regtest/
</span></span></code></pre></div><h2 id=start-daemon-in-regtest-mode>Start daemon in Regtest mode</h2><p>Start in Regtest mode to create a private block chain. Enable TX indexing.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>~/litecoin$ cd src
</span></span><span style=display:flex><span>~/litecoin/src$ ./litecoind -regtest -daemon -txindex
</span></span></code></pre></div><h2 id=create-wallet-and-address>Create wallet and address</h2><p>Create a wallet with descriptors disabled. This allows dumping/importing private keys. We also set an empty passphrase.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest createwallet default <span style=color:#04a5e5>false</span> <span style=color:#04a5e5>false</span> <span style=color:#40a02b>&#39;&#39;</span> <span style=color:#04a5e5>false</span> <span style=color:#04a5e5>false</span>
</span></span></code></pre></div><p>Import private key. This is just a random private key but keeps the addresses in this post the same.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli --regtest importprivkey cShn2dZmfaBVciRLWikeKW5MdERtje2S2HtnUgtTL5gtUhDqxNX6
</span></span></code></pre></div><p>Importing the private key creates these addresses (ignore the generated MWEB address as it will be different each time. We will generate another one).</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest listreceivedbyaddress <span style=color:#fe640b>0</span> <span style=color:#04a5e5>true</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;address&#34;</span>: <span style=color:#40a02b>&#34;mqnZPpp7uodvK42D28cLAd7VHbUDdcFScS&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;amount&#34;</span>: <span style=color:#fe640b>0.00000000</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;confirmations&#34;</span>: <span style=color:#fe640b>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;label&#34;</span>: <span style=color:#40a02b>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;txids&#34;</span>: [
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;address&#34;</span>: <span style=color:#40a02b>&#34;QQP6j7txv6BErhv3j1QaN5vaSc8JmEgVTy&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;amount&#34;</span>: <span style=color:#fe640b>0.00000000</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;confirmations&#34;</span>: <span style=color:#fe640b>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;label&#34;</span>: <span style=color:#40a02b>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;txids&#34;</span>: [
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;address&#34;</span>: <span style=color:#40a02b>&#34;rltc1qwzjvhl5u5szu6l3cn240lszuxm9rq8ne6a9k7y&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;amount&#34;</span>: <span style=color:#fe640b>0.00000000</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;confirmations&#34;</span>: <span style=color:#fe640b>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;label&#34;</span>: <span style=color:#40a02b>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;txids&#34;</span>: [
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;address&#34;</span>: <span style=color:#40a02b>&#34;tmweb1qqd4qan4hupmy0nham7r59elvgtte3nsl6dlnrwqm8ss42e37l0z7qqeyk8ys6qw3v74g3kh9g3a3knj8ntvz9z7pwn3xqxm4pgtwa9rnpcttq3yf&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;amount&#34;</span>: <span style=color:#fe640b>0.00000000</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;confirmations&#34;</span>: <span style=color:#fe640b>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;label&#34;</span>: <span style=color:#40a02b>&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;txids&#34;</span>: [
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p>Set the Bech32 address (starts with rltc1) to the variable ADDRESS. Set a non-wallet Burn address to variable BURN ADDRESS, which will be used to mine additional funds to (this is just a random address so that these block reward UTXOs are discarded and tracked balances aren&rsquo;t tainted):</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ <span style=color:#dc8a78>ADDRESS</span><span style=color:#04a5e5;font-weight:700>=</span>rltc1qwzjvhl5u5szu6l3cn240lszuxm9rq8ne6a9k7y
</span></span><span style=display:flex><span>$ <span style=color:#dc8a78>BURNADDRESS</span><span style=color:#04a5e5;font-weight:700>=</span>rltc1qz5qdn6msnvj6266jxyzd3qlf7wxcudrwx2da8n
</span></span></code></pre></div><h2 id=create-an-mweb-address>Create an MWEB address</h2><p>Create an MWEB address and set the address to the variable MWEBADDRESS. This MWEB address will be different each time.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ <span style=color:#dc8a78>MWEBADDRESS</span><span style=color:#04a5e5;font-weight:700>=</span><span style=color:#8839ef>$(</span>./litecoin-cli -regtest getnewaddress <span style=color:#40a02b>&#34;&#34;</span> mweb<span style=color:#8839ef>)</span> <span style=color:#04a5e5;font-weight:700>&amp;&amp;</span> <span style=color:#04a5e5>echo</span> <span style=color:#dc8a78>$MWEBADDRESS</span>
</span></span><span style=display:flex><span>tmweb1qqdvsa0dku3sl4v09f2tu5ucdv8d40v8qp9u5mj67ky7gr8xaem68xqjnenprcga3mfd5etnh04z236utjukrrfl6sdy6kvdzmx2zmwappc6scg75
</span></span></code></pre></div><p>Generate 1 block and send mining rewards to ADDRESS. This is a 50 LTC block reward.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest generatetoaddress <span style=color:#fe640b>1</span> <span style=color:#dc8a78>$ADDRESS</span>
</span></span></code></pre></div><p>Generate 500 blocks and send mining rewards to BURN ADDRESS. This generates all pre-MWEB blocks and errors out at block height 431. It needs a MWEB TX to continue.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest generatetoaddress <span style=color:#fe640b>500</span> <span style=color:#dc8a78>$BURNADDRESS</span>
</span></span><span style=display:flex><span>error code: -1
</span></span><span style=display:flex><span>error message:
</span></span><span style=display:flex><span>CreateNewBlock: TestBlockValidity failed: bad-txns-vin-empty, Transaction check failed (tx hash 58338ec7c9c4e6086f9eef6093d79a69d930d7ca695d1759b07180fef29d8f8e)
</span></span></code></pre></div><p>Note that the latest confirmed block does not have MWEB headers</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest getblock <span style=color:#8839ef>$(</span>./litecoin-cli -regtest getbestblockhash<span style=color:#8839ef>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;hash&#34;</span>: <span style=color:#40a02b>&#34;78a0395a49ef0aacae931156f55cc27a85772d32be62755543d76cf4c1497d85&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;confirmations&#34;</span>: <span style=color:#fe640b>1</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;strippedsize&#34;</span>: <span style=color:#fe640b>215</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;size&#34;</span>: <span style=color:#fe640b>251</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;weight&#34;</span>: <span style=color:#fe640b>896</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;height&#34;</span>: <span style=color:#fe640b>431</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;version&#34;</span>: <span style=color:#fe640b>805306384</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;versionHex&#34;</span>: <span style=color:#40a02b>&#34;30000010&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;merkleroot&#34;</span>: <span style=color:#40a02b>&#34;882ff74236f8eee1b62dc939bafbc3772d6e5f55661c3b15db6cc8185d4f9341&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;tx&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#40a02b>&#34;882ff74236f8eee1b62dc939bafbc3772d6e5f55661c3b15db6cc8185d4f9341&#34;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;time&#34;</span>: <span style=color:#fe640b>1658644349</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;mediantime&#34;</span>: <span style=color:#fe640b>1658644348</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;nonce&#34;</span>: <span style=color:#fe640b>0</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;bits&#34;</span>: <span style=color:#40a02b>&#34;207fffff&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;difficulty&#34;</span>: <span style=color:#fe640b>4.656542373906925e-10</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;chainwork&#34;</span>: <span style=color:#40a02b>&#34;0000000000000000000000000000000000000000000000000000000000000360&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;nTx&#34;</span>: <span style=color:#fe640b>1</span>,
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;previousblockhash&#34;</span>: <span style=color:#40a02b>&#34;9532c5eff53f5e0848f6a0383a0d4c4d9b76edcd656b52bddb841474002dedf0&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Check balance. These are the funds we will work with.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest getbalance
</span></span><span style=display:flex><span>50.00000000
</span></span></code></pre></div><h2 id=peg-in-transaction>Peg In transaction</h2><p>Send 10 LTC to MWEB address. This is a Peg In transaction.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest sendtoaddress <span style=color:#dc8a78>$MWEBADDRESS</span> <span style=color:#fe640b>10</span>
</span></span></code></pre></div><p>Balance will be reduced, subtracting TX fee.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest getbalance
</span></span><span style=display:flex><span>49.99963500
</span></span></code></pre></div><p>Generate 1 block to confirm the TX sent to MWEB</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest generatetoaddress <span style=color:#fe640b>1</span> <span style=color:#dc8a78>$BURNADDRESS</span>
</span></span></code></pre></div><p>Inspect block header of the latest block. It will also have MWEB headers.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest getblock <span style=color:#8839ef>$(</span>./litecoin-cli -regtest getbestblockhash<span style=color:#8839ef>)</span>
</span></span></code></pre></div><p>Inspect full block with TX details. It will have the confirmed MWEB TX.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest getblock <span style=color:#8839ef>$(</span>./litecoin-cli -regtest getbestblockhash<span style=color:#8839ef>)</span> <span style=color:#fe640b>2</span>
</span></span></code></pre></div><p>List unspent UTXOs will have 2 UTXOs now. The 10 LTC UTXO was received by our MWEB address:</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest listunspent
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;txid&#34;</span>: <span style=color:#40a02b>&#34;c4c8213803a9181973b0ef16781bcc21efb95567c0cfc50971cc3c0db1900409&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;amount&#34;</span>: <span style=color:#fe640b>39.99963500</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;confirmations&#34;</span>: <span style=color:#fe640b>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;spendable&#34;</span>: <span style=color:#fe640b>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;address&#34;</span>: <span style=color:#40a02b>&#34;tmweb1qqwpnhqnaywjdefrr94vh6t0s4jdcgg4qyujxcntlq0qukk6k92knvqu5m36y0k2z3e5qhmchuex4cz59dmjyp87wv8jd59h3rcwgg37ga5e4we6t&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;txid&#34;</span>: <span style=color:#40a02b>&#34;c4c8213803a9181973b0ef16781bcc21efb95567c0cfc50971cc3c0db1900409&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;amount&#34;</span>: <span style=color:#fe640b>10.00000000</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;confirmations&#34;</span>: <span style=color:#fe640b>1</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;spendable&#34;</span>: <span style=color:#fe640b>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;address&#34;</span>: <span style=color:#40a02b>&#34;tmweb1qqdvsa0dku3sl4v09f2tu5ucdv8d40v8qp9u5mj67ky7gr8xaem68xqjnenprcga3mfd5etnh04z236utjukrrfl6sdy6kvdzmx2zmwappc6scg75&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;label&#34;</span>: <span style=color:#40a02b>&#34;&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h2 id=peg-out-transaction>Peg Out transaction</h2><p>Send 41 LTC to ADDRESS. Since we have 2 UTXOs which are less than 41 LTC each, this transaction must use the MWEB UTXO. This is a Peg Out TX.</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest sendtoaddress <span style=color:#dc8a78>$ADDRESS</span> <span style=color:#fe640b>41</span>
</span></span><span style=display:flex><span>3a63849e790244078289a383c44e25cf9e7487c3e0e26be95f5f7953d72b3283
</span></span></code></pre></div><p>Generate 1 block to confirm TX</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest generatetoaddress <span style=color:#fe640b>1</span> <span style=color:#dc8a78>$BURNADDRESS</span>
</span></span></code></pre></div><p>Check the balances</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest getbalances
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;mine&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;trusted&#34;</span>: <span style=color:#fe640b>8.99955100</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;untrusted_pending&#34;</span>: <span style=color:#fe640b>0.00000000</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;immature&#34;</span>: <span style=color:#fe640b>41.00000000</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Notice that the 41 LTC which includes the MWEB UTXO is still immature. MWEB needs 6 confirmations for Peg Out transactions to be mature and be spendable.</p><p>Generate 5 more blocks</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest generatetoaddress <span style=color:#fe640b>5</span> <span style=color:#dc8a78>$BURNADDRESS</span>
</span></span></code></pre></div><p>Check the balances</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest getbalances
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#8839ef>&#34;mine&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;trusted&#34;</span>: <span style=color:#fe640b>49.99955100</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;untrusted_pending&#34;</span>: <span style=color:#fe640b>0.00000000</span>,
</span></span><span style=display:flex><span>    <span style=color:#8839ef>&#34;immature&#34;</span>: <span style=color:#fe640b>0.00000000</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=stop-the-daemon>Stop the daemon</h2><p>Stop the daemon</p><div class=highlight><pre tabindex=0 style=color:#4c4f69;background-color:#eff1f5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ./litecoin-cli -regtest stop
</span></span><span style=display:flex><span>Litecoin Core stopping
</span></span></code></pre></div><h2 id=additional-links-and-references>Additional links and references</h2><ul><li><a href=https://www.linkedin.com/pulse/how-mimblewimble-work-litecoin-tara-annison/>https://www.linkedin.com/pulse/how-mimblewimble-work-litecoin-tara-annison/</a> - How will MimbleWimble work on Litecoin?</li><li><a href=https://www.litecoin.net/news/litecoins-pivotal-mweb-upgrade>https://www.litecoin.net/news/litecoins-pivotal-mweb-upgrade</a> - Litecoin’s Pivotal MWEB Upgrade is Now Released</li><li><a href=https://edge.app/blog/company-news/litecoin-development-update-mimblewimble/>https://edge.app/blog/company-news/litecoin-development-update-mimblewimble/</a> - Litecoin Development Update: Mimblewimble</li><li><a href=https://www.mwebexplorer.com/>https://www.mwebexplorer.com/</a> - Litecoin MWEB block explorer</li></ul></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/posts>Posts</a></li><li><a href=/pages>Pages</a></li><li><a href=/about>About</a></li></ul></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&text=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&title=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&is_video=false&description=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network&body=Check out this article: https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&title=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&title=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&name=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network&description=%3ch2%20id%3d%22introduction%22%3eIntroduction%3c%2fh2%3e%0a%3cp%3eLitecoin%20has%20implemented%20MimbleWimble%20using%20an%20Extension%20Blocks%20sidechain%2c%20commonly%20referred%20to%20as%20%26ldquo%3bMWEB%26rdquo%3b.%20I%20couldn%26rsquo%3bt%20find%20any%20references%20to%20using%20MWEB%20other%20than%20articles%20which%20delve%20more%20into%20the%20technology%20but%20not%20the%20day%20to%20day%20wallet%20interaction.%20This%20post%20utilizes%20the%20standalone%20private%20Regtest%20network%20to%20demonstrate%20the%20usage.%20There%20are%20Additional%20links%20and%20references%20at%20the%20bottom%20of%20this%20post%20if%20you%20need%20an%20overview%20of%20the%20technology.%3c%2fp%3e" aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fjulianyap.com%2fposts%2f2022-07-24-1658648241%2f&t=Litecoin%20%28LTC%29%20-%20MimbleWimble%20transactions%20using%20Regtest%20network" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2024 Julian Yap</div><div class=footer-right><nav><ul><li><a href=/posts>Posts</a></li><li><a href=/pages>Pages</a></li><li><a href=/about>About</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script><script src=/js/code-copy.js></script></html>