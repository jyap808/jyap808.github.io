---
title: "Arch Linux - Surface Book 3"
date: 2024-04-04T12:08:45-07:00
draft: false
---

I have installed Arch Linux on a Microsoft Surface Book 3 to use as my "focus" machine. This page outlines some things I've had to install and tweak.

Most everything [works out of the box](https://github.com/linux-surface/linux-surface/wiki/Supported-Devices-and-Features#surface-books-and-surface-laptop-studio) except the cameras. Suspend also eats up 20% of the battery life overnight.

### Visual Studio Code hangs on launch

Had [this issue](https://github.com/microsoft/vscode/issues/188397#issuecomment-2033053045).

Work around add to ~/.vscode-oss/argv.json
```
        "password-store": "basic"
```

### Toshy - Mac key bindings

Installed [Toshy](https://github.com/RedBearAK/toshy) because apparently it works better with Wayland.

### SSH Agent

Add this to ~/.bashrc

```
# ssh-agent from: https://wiki.archlinux.org/title/SSH_keys#ssh-agent
if ! pgrep -u "$USER" ssh-agent > /dev/null; then
    ssh-agent -t 1h > "$XDG_RUNTIME_DIR/ssh-agent.env"
fi
if [[ ! -f "$SSH_AUTH_SOCK" ]]; then
    source "$XDG_RUNTIME_DIR/ssh-agent.env" >/dev/null
fi
```
